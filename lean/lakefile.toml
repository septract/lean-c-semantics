name = "CerbLean"
version = "0.1.0"
defaultTargets = ["CerbLean", "cerblean_pp", "cerblean_test", "cerblean_testbatch", "cerblean_interp", "cerblean_memtest", "cerblean_genproof", "test_cn"]
preferReleaseBuild = true

[[require]]
name = "mathlib"
git = "https://github.com/leanprover-community/mathlib4"
rev = "v4.26.0"

[[require]]
name = "smt"
git = "https://github.com/ufmg-smite/lean-smt"
rev = "main"

[[lean_lib]]
name = "CerbLean"

# Verified programs with native_decide proofs (slow to build)
# Build separately with: lake build VerifiedPrograms
# NOT in defaultTargets - only built explicitly or in CI
[[lean_lib]]
name = "VerifiedPrograms"
roots = ["CerbLean.Verification.Programs"]

[[lean_exe]]
name = "cerblean_test"
root = "CerbLean.Test"

[[lean_exe]]
name = "cerblean_testbatch"
root = "CerbLean.TestBatch"

[[lean_exe]]
name = "cerblean_pp"
root = "CerbLean.TestPrettyPrint"

[[lean_exe]]
name = "cerblean_memtest"
root = "CerbLean.TestMemory"

[[lean_exe]]
name = "cerblean_interp"
root = "CerbLean.TestInterpreter"

[[lean_exe]]
name = "cerblean_genproof"
root = "CerbLean.GenProof"

[[lean_exe]]
name = "test_cn"
root = "CerbLean.TestCN"
